{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\DELL\\\\Documents\\\\5.Programming\\\\NetNinja\\\\React-Redux-app\\\\marioplan\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}export var createProject=function createProject(project){return function(dispatch,getState,_ref){var getFirebase=_ref.getFirebase,getFirestore=_ref.getFirestore;//make async call to DB\nvar firestore=getFirestore();var profile=getState().firebase.profile;var authorId=getState().firebase.auth.uid;console.log(profile);firestore.collection('projects').add(_objectSpread({},project,{authorFirstName:profile.firstName,authorLastName:profile.lastName,authorId:authorId,createdAt:new Date()})).then(function(){dispatch({type:'CREATE_PROJECT_SUCCESS'});}).catch(function(err){dispatch({type:'CREATE_PROJECT_ERROR',err:err});});};};","map":{"version":3,"sources":["C:/Users/DELL/Documents/5.Programming/NetNinja/React-Redux-app/marioplan/src/store/actions/projectActions.js"],"names":["createProject","project","dispatch","getState","getFirebase","getFirestore","firestore","profile","firebase","authorId","auth","uid","console","log","collection","add","authorFirstName","firstName","authorLastName","lastName","createdAt","Date","then","type","catch","err"],"mappings":"m7BAAA,MAAO,IAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAa,CACtC,MAAO,UAACC,QAAD,CAAWC,QAAX,MAAmD,IAA9BC,CAAAA,WAA8B,MAA9BA,WAA8B,CAAlBC,YAAkB,MAAlBA,YAAkB,CACtD;AACA,GAAMC,CAAAA,SAAS,CAAGD,YAAY,EAA9B,CACA,GAAME,CAAAA,OAAO,CAAGJ,QAAQ,GAAGK,QAAX,CAAoBD,OAApC,CACA,GAAME,CAAAA,QAAQ,CAAGN,QAAQ,GAAGK,QAAX,CAAoBE,IAApB,CAAyBC,GAA1C,CACAC,OAAO,CAACC,GAAR,CAAYN,OAAZ,EAEAD,SAAS,CAACQ,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,kBACOd,OADP,EAEIe,eAAe,CAACT,OAAO,CAACU,SAF5B,CAGIC,cAAc,CAAEX,OAAO,CAACY,QAH5B,CAIIV,QAAQ,CAACA,QAJb,CAKIW,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EALf,IAMGC,IANH,CAMQ,UAAM,CACVpB,QAAQ,CAAC,CAACqB,IAAI,CAAE,wBAAP,CAAD,CAAR,CACH,CARD,EAQGC,KARH,CAQS,SAAAC,GAAG,CAAI,CACZvB,QAAQ,CAAC,CAACqB,IAAI,CAAE,sBAAP,CAA8BE,GAAG,CAAHA,GAA9B,CAAD,CAAR,CACH,CAVD,EAWH,CAlBD,CAmBH,CApBM","sourcesContent":["export const createProject = (project) => {\r\n    return (dispatch, getState,{getFirebase,getFirestore}) => {\r\n        //make async call to DB\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        console.log(profile);\r\n\r\n        firestore.collection('projects').add({\r\n            ...project,\r\n            authorFirstName:profile.firstName,\r\n            authorLastName :profile.lastName,\r\n            authorId:authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({type: 'CREATE_PROJECT_SUCCESS'});\r\n        }).catch(err => {\r\n            dispatch({type: 'CREATE_PROJECT_ERROR',err});\r\n        });\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}